-- Modern UI Library with Neon Effects and Shadows
-- Created for ERA HUB

local ModernUI = {}
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Utility Functions
local function CreateTween(object, properties, duration, style, direction)
    local tweenInfo = TweenInfo.new(
        duration or 0.3,
        style or Enum.EasingStyle.Quad,
        direction or Enum.EasingDirection.Out
    )
    local tween = TweenService:Create(object, tweenInfo, properties)
    tween:Play()
    return tween
end

local function AddShadow(frame, intensity, size)
    local shadow = Instance.new("ImageLabel")
    shadow.Name = "Shadow"
    shadow.AnchorPoint = Vector2.new(0.5, 0.5)
    shadow.Size = UDim2.new(1, size or 40, 1, size or 40)
    shadow.Position = UDim2.new(0.5, 0, 0.5, 0)
    shadow.BackgroundTransparency = 1
    shadow.Image = "rbxassetid://5554236805"
    shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
    shadow.ImageTransparency = intensity or 0.6
    shadow.ScaleType = Enum.ScaleType.Slice
    shadow.SliceCenter = Rect.new(23, 23, 277, 277)
    shadow.ZIndex = frame.ZIndex - 1
    shadow.Parent = frame
    return shadow
end

local function AddNeonGlow(frame, color, intensity, size)
    local glow = Instance.new("ImageLabel")
    glow.Name = "NeonGlow"
    glow.AnchorPoint = Vector2.new(0.5, 0.5)
    glow.Size = UDim2.new(1, size or 50, 1, size or 50)
    glow.Position = UDim2.new(0.5, 0, 0.5, 0)
    glow.BackgroundTransparency = 1
    glow.Image = "rbxassetid://5554236805"
    glow.ImageColor3 = color or Color3.fromRGB(138, 123, 255)
    glow.ImageTransparency = intensity or 0.4
    glow.ScaleType = Enum.ScaleType.Slice
    glow.SliceCenter = Rect.new(23, 23, 277, 277)
    glow.ZIndex = frame.ZIndex - 1
    glow.Parent = frame
    
    -- Pulsing animation
    task.spawn(function()
        while glow and glow.Parent do
            CreateTween(glow, {ImageTransparency = (intensity or 0.4) - 0.1}, 1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut)
            task.wait(1)
            CreateTween(glow, {ImageTransparency = (intensity or 0.4) + 0.1}, 1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut)
            task.wait(1)
        end
    end)
    
    return glow
end

local function AddStroke(frame, color, thickness, transparency)
    local stroke = Instance.new("UIStroke")
    stroke.Color = color or Color3.fromRGB(138, 123, 255)
    stroke.Thickness = thickness or 1
    stroke.Transparency = transparency or 0.7
    stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    stroke.Parent = frame
    return stroke
end

local function AddGradient(frame, colors, rotation)
    local gradient = Instance.new("UIGradient")
    gradient.Color = colors or ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(138, 123, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
    }
    gradient.Rotation = rotation or 90
    gradient.Parent = frame
    return gradient
end

local function MakeDraggable(frame, dragHandle)
    local dragging = false
    local dragInput, dragStart, startPos
    
    local function update(input)
        local delta = input.Position - dragStart
        frame.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
    
    dragHandle.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    
    dragHandle.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            update(input)
        end
    end)
end

-- Main Window Creation
function ModernUI:CreateWindow(config)
    config = config or {}
    local title = config.Title or "ERA HUB"
    local size = config.Size or UDim2.new(0, 850, 0, 600)
    
    -- Screen GUI
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "ModernUI_" .. title
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    ScreenGui.ResetOnSpawn = false
    ScreenGui.DisplayOrder = 999
    ScreenGui.Parent = game:GetService("CoreGui")
    
    -- Main Frame
    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Size = size
    MainFrame.Position = UDim2.new(0.5, -size.X.Offset/2, 0.5, -size.Y.Offset/2)
    MainFrame.BackgroundColor3 = Color3.fromRGB(12, 14, 20)
    MainFrame.BorderSizePixel = 0
    MainFrame.ClipsDescendants = false
    MainFrame.Parent = ScreenGui
    
    local MainCorner = Instance.new("UICorner")
    MainCorner.CornerRadius = UDim.new(0, 18)
    MainCorner.Parent = MainFrame
    
    AddShadow(MainFrame, 0.4, 60)
    AddNeonGlow(MainFrame, Color3.fromRGB(138, 123, 255), 0.7, 70)
    AddStroke(MainFrame, Color3.fromRGB(138, 123, 255), 1.5, 0.6)
    
    -- Top Bar
    local TopBar = Instance.new("Frame")
    TopBar.Name = "TopBar"
    TopBar.Size = UDim2.new(1, 0, 0, 60)
    TopBar.BackgroundColor3 = Color3.fromRGB(15, 17, 23)
    TopBar.BorderSizePixel = 0
    TopBar.Parent = MainFrame
    
    local TopBarCorner = Instance.new("UICorner")
    TopBarCorner.CornerRadius = UDim.new(0, 18)
    TopBarCorner.Parent = TopBar
    
    local TopBarFix = Instance.new("Frame")
    TopBarFix.Size = UDim2.new(1, 0, 0, 18)
    TopBarFix.Position = UDim2.new(0, 0, 1, -18)
    TopBarFix.BackgroundColor3 = Color3.fromRGB(15, 17, 23)
    TopBarFix.BorderSizePixel = 0
    TopBarFix.Parent = TopBar
    
    AddStroke(TopBar, Color3.fromRGB(138, 123, 255), 1, 0.9)
    
    -- Logo Container
    local LogoContainer = Instance.new("Frame")
    LogoContainer.Name = "LogoContainer"
    LogoContainer.Size = UDim2.new(0, 40, 0, 40)
    LogoContainer.Position = UDim2.new(0, 20, 0.5, -20)
    LogoContainer.BackgroundColor3 = Color3.fromRGB(138, 123, 255)
    LogoContainer.BorderSizePixel = 0
    LogoContainer.Parent = TopBar
    
    local LogoCorner = Instance.new("UICorner")
    LogoCorner.CornerRadius = UDim.new(0, 10)
    LogoCorner.Parent = LogoContainer
    
    AddNeonGlow(LogoContainer, Color3.fromRGB(138, 123, 255), 0.2, 30)
    AddStroke(LogoContainer, Color3.fromRGB(158, 143, 255), 1, 0.5)
    
    local Logo = Instance.new("ImageLabel")
    Logo.Name = "Logo"
    Logo.Size = UDim2.new(0, 24, 0, 24)
    Logo.Position = UDim2.new(0.5, -12, 0.5, -12)
    Logo.BackgroundTransparency = 1
    Logo.Image = "rbxassetid://7733992358"
    Logo.ImageColor3 = Color3.fromRGB(255, 255, 255)
    Logo.Parent = LogoContainer
    
    -- Rotating animation for logo
    task.spawn(function()
        while Logo and Logo.Parent do
            CreateTween(Logo, {Rotation = 360}, 3, Enum.EasingStyle.Linear)
            task.wait(3)
            Logo.Rotation = 0
        end
    end)
    
    -- Title
    local Title = Instance.new("TextLabel")
    Title.Name = "Title"
    Title.Size = UDim2.new(0, 300, 1, 0)
    Title.Position = UDim2.new(0, 70, 0, 0)
    Title.BackgroundTransparency = 1
    Title.Text = title
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.TextSize = 20
    Title.Font = Enum.Font.GothamBold
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.Parent = TopBar
    
    AddGradient(Title, ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(138, 123, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
    }, 0)
    
    -- Animated gradient
    task.spawn(function()
        local gradient = Title:FindFirstChildOfClass("UIGradient")
        while gradient and gradient.Parent do
            CreateTween(gradient, {Rotation = 360}, 5, Enum.EasingStyle.Linear)
            task.wait(5)
            gradient.Rotation = 0
        end
    end)

    
    -- Search Container
    local SearchContainer = Instance.new("Frame")
    SearchContainer.Name = "SearchContainer"
    SearchContainer.Size = UDim2.new(0, 220, 0, 38)
    SearchContainer.Position = UDim2.new(1, -380, 0.5, -19)
    SearchContainer.BackgroundColor3 = Color3.fromRGB(20, 22, 28)
    SearchContainer.BorderSizePixel = 0
    SearchContainer.Parent = TopBar
    
    local SearchCorner = Instance.new("UICorner")
    SearchCorner.CornerRadius = UDim.new(0, 10)
    SearchCorner.Parent = SearchContainer
    
    local SearchStroke = AddStroke(SearchContainer, Color3.fromRGB(138, 123, 255), 1, 0.9)
    AddShadow(SearchContainer, 0.8, 20)
    
    local SearchIcon = Instance.new("ImageLabel")
    SearchIcon.Name = "SearchIcon"
    SearchIcon.Size = UDim2.new(0, 18, 0, 18)
    SearchIcon.Position = UDim2.new(0, 14, 0.5, -9)
    SearchIcon.BackgroundTransparency = 1
    SearchIcon.Image = "rbxassetid://7072707198"
    SearchIcon.ImageColor3 = Color3.fromRGB(138, 123, 255)
    SearchIcon.Parent = SearchContainer
    
    local SearchBox = Instance.new("TextBox")
    SearchBox.Name = "SearchBox"
    SearchBox.Size = UDim2.new(1, -45, 1, 0)
    SearchBox.Position = UDim2.new(0, 40, 0, 0)
    SearchBox.BackgroundTransparency = 1
    SearchBox.Text = ""
    SearchBox.PlaceholderText = "Search..."
    SearchBox.PlaceholderColor3 = Color3.fromRGB(80, 80, 80)
    SearchBox.TextColor3 = Color3.fromRGB(220, 220, 220)
    SearchBox.TextSize = 14
    SearchBox.Font = Enum.Font.Gotham
    SearchBox.TextXAlignment = Enum.TextXAlignment.Left
    SearchBox.ClearTextOnFocus = false
    SearchBox.Parent = SearchContainer
    
    SearchContainer.MouseEnter:Connect(function()
        CreateTween(SearchStroke, {Transparency = 0.4})
        CreateTween(SearchIcon, {ImageColor3 = Color3.fromRGB(158, 143, 255)})
        CreateTween(SearchContainer, {BackgroundColor3 = Color3.fromRGB(25, 27, 33)})
    end)
    
    SearchContainer.MouseLeave:Connect(function()
        CreateTween(SearchStroke, {Transparency = 0.9})
        CreateTween(SearchIcon, {ImageColor3 = Color3.fromRGB(138, 123, 255)})
        CreateTween(SearchContainer, {BackgroundColor3 = Color3.fromRGB(20, 22, 28)})
    end)
    
    -- Minimize Button
    local MinimizeButton = Instance.new("TextButton")
    MinimizeButton.Name = "MinimizeButton"
    MinimizeButton.Size = UDim2.new(0, 38, 0, 38)
    MinimizeButton.Position = UDim2.new(1, -110, 0.5, -19)
    MinimizeButton.BackgroundColor3 = Color3.fromRGB(22, 24, 30)
    MinimizeButton.Text = ""
    MinimizeButton.AutoButtonColor = false
    MinimizeButton.Parent = TopBar
    
    local MinimizeCorner = Instance.new("UICorner")
    MinimizeCorner.CornerRadius = UDim.new(0, 10)
    MinimizeCorner.Parent = MinimizeButton
    
    local MinimizeStroke = AddStroke(MinimizeButton, Color3.fromRGB(138, 123, 255), 1, 0.9)
    AddShadow(MinimizeButton, 0.8, 20)
    
    local MinimizeIcon = Instance.new("TextLabel")
    MinimizeIcon.Size = UDim2.new(1, 0, 1, 0)
    MinimizeIcon.BackgroundTransparency = 1
    MinimizeIcon.Text = "−"
    MinimizeIcon.TextColor3 = Color3.fromRGB(200, 200, 200)
    MinimizeIcon.TextSize = 22
    MinimizeIcon.Font = Enum.Font.GothamBold
    MinimizeIcon.Parent = MinimizeButton
    
    local isMinimized = false
    MinimizeButton.MouseButton1Click:Connect(function()
        isMinimized = not isMinimized
        if isMinimized then
            CreateTween(MainFrame, {Size = UDim2.new(0, size.X.Offset, 0, 60)})
            MinimizeIcon.Text = "+"
        else
            CreateTween(MainFrame, {Size = size})
            MinimizeIcon.Text = "−"
        end
    end)
    
    MinimizeButton.MouseEnter:Connect(function()
        CreateTween(MinimizeButton, {BackgroundColor3 = Color3.fromRGB(138, 123, 255)})
        CreateTween(MinimizeStroke, {Transparency = 0.3})
        CreateTween(MinimizeIcon, {TextColor3 = Color3.fromRGB(255, 255, 255)})
        AddNeonGlow(MinimizeButton, Color3.fromRGB(138, 123, 255), 0.3, 30)
    end)
    
    MinimizeButton.MouseLeave:Connect(function()
        CreateTween(MinimizeButton, {BackgroundColor3 = Color3.fromRGB(22, 24, 30)})
        CreateTween(MinimizeStroke, {Transparency = 0.9})
        CreateTween(MinimizeIcon, {TextColor3 = Color3.fromRGB(200, 200, 200)})
        if MinimizeButton:FindFirstChild("NeonGlow") then
            MinimizeButton.NeonGlow:Destroy()
        end
    end)
    
    -- Close Button
    local CloseButton = Instance.new("TextButton")
    CloseButton.Name = "CloseButton"
    CloseButton.Size = UDim2.new(0, 38, 0, 38)
    CloseButton.Position = UDim2.new(1, -60, 0.5, -19)
    CloseButton.BackgroundColor3 = Color3.fromRGB(22, 24, 30)
    CloseButton.Text = ""
    CloseButton.AutoButtonColor = false
    CloseButton.Parent = TopBar
    
    local CloseCorner = Instance.new("UICorner")
    CloseCorner.CornerRadius = UDim.new(0, 10)
    CloseCorner.Parent = CloseButton
    
    local CloseStroke = AddStroke(CloseButton, Color3.fromRGB(138, 123, 255), 1, 0.9)
    AddShadow(CloseButton, 0.8, 20)
    
    local CloseIcon = Instance.new("TextLabel")
    CloseIcon.Size = UDim2.new(1, 0, 1, 0)
    CloseIcon.BackgroundTransparency = 1
    CloseIcon.Text = "×"
    CloseIcon.TextColor3 = Color3.fromRGB(200, 200, 200)
    CloseIcon.TextSize = 26
    CloseIcon.Font = Enum.Font.GothamBold
    CloseIcon.Parent = CloseButton
    
    CloseButton.MouseButton1Click:Connect(function()
        CreateTween(MainFrame, {Size = UDim2.new(0, 0, 0, 0)}, 0.4)
        CreateTween(MainFrame, {BackgroundTransparency = 1}, 0.4)
        task.wait(0.4)
        ScreenGui:Destroy()
    end)
    
    CloseButton.MouseEnter:Connect(function()
        CreateTween(CloseButton, {BackgroundColor3 = Color3.fromRGB(255, 60, 60)})
        CreateTween(CloseStroke, {Color = Color3.fromRGB(255, 100, 100), Transparency = 0.3})
        CreateTween(CloseIcon, {TextColor3 = Color3.fromRGB(255, 255, 255)})
        AddNeonGlow(CloseButton, Color3.fromRGB(255, 60, 60), 0.3, 30)
    end)
    
    CloseButton.MouseLeave:Connect(function()
        CreateTween(CloseButton, {BackgroundColor3 = Color3.fromRGB(22, 24, 30)})
        CreateTween(CloseStroke, {Color = Color3.fromRGB(138, 123, 255), Transparency = 0.9})
        CreateTween(CloseIcon, {TextColor3 = Color3.fromRGB(200, 200, 200)})
        if CloseButton:FindFirstChild("NeonGlow") then
            CloseButton.NeonGlow:Destroy()
        end
    end)
    
    -- Sidebar
    local Sidebar = Instance.new("Frame")
    Sidebar.Name = "Sidebar"
    Sidebar.Size = UDim2.new(0, 210, 1, -75)
    Sidebar.Position = UDim2.new(0, 12, 0, 68)
    Sidebar.BackgroundColor3 = Color3.fromRGB(15, 17, 23)
    Sidebar.BorderSizePixel = 0
    Sidebar.Parent = MainFrame
    
    local SidebarCorner = Instance.new("UICorner")
    SidebarCorner.CornerRadius = UDim.new(0, 14)
    SidebarCorner.Parent = Sidebar
    
    AddStroke(Sidebar, Color3.fromRGB(138, 123, 255), 1, 0.9)
    AddShadow(Sidebar, 0.7, 30)
    
    local TabContainer = Instance.new("ScrollingFrame")
    TabContainer.Name = "TabContainer"
    TabContainer.Size = UDim2.new(1, -16, 1, -16)
    TabContainer.Position = UDim2.new(0, 8, 0, 8)
    TabContainer.BackgroundTransparency = 1
    TabContainer.BorderSizePixel = 0
    TabContainer.ScrollBarThickness = 4
    TabContainer.ScrollBarImageColor3 = Color3.fromRGB(138, 123, 255)
    TabContainer.ScrollBarImageTransparency = 0.5
    TabContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
    TabContainer.Parent = Sidebar
    
    local TabLayout = Instance.new("UIListLayout")
    TabLayout.SortOrder = Enum.SortOrder.LayoutOrder
    TabLayout.Padding = UDim.new(0, 10)
    TabLayout.Parent = TabContainer
    
    TabLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        TabContainer.CanvasSize = UDim2.new(0, 0, 0, TabLayout.AbsoluteContentSize.Y + 16)
    end)
    
    -- Content Frame
    local ContentFrame = Instance.new("Frame")
    ContentFrame.Name = "ContentFrame"
    ContentFrame.Size = UDim2.new(1, -240, 1, -85)
    ContentFrame.Position = UDim2.new(0, 230, 0, 73)
    ContentFrame.BackgroundTransparency = 1
    ContentFrame.Parent = MainFrame
    
    MakeDraggable(MainFrame, TopBar)
    
    -- Window Object
    local Window = {
        MainFrame = MainFrame,
        Sidebar = Sidebar,
        TabContainer = TabContainer,
        ContentFrame = ContentFrame,
        Tabs = {},
        CurrentTab = nil,
        SearchBox = SearchBox
    }
    
    -- Search Functionality
    SearchBox:GetPropertyChangedSignal("Text"):Connect(function()
        local searchText = SearchBox.Text:lower()
        for _, tab in pairs(Window.Tabs) do
            if tab.Content then
                for _, element in pairs(tab.Content:GetChildren()) do
                    if element:IsA("Frame") and element.Name ~= "UIListLayout" then
                        local label = element:FindFirstChild("Label")
                        if label and label:IsA("TextLabel") then
                            local elementText = label.Text:lower()
                            if searchText == "" or elementText:find(searchText) then
                                element.Visible = true
                            else
                                element.Visible = false
                            end
                        end
                    end
                end
            end
        end
    end)

    
    -- Create Tab Function
    function Window:CreateTab(name, icon)
        local TabButton = Instance.new("TextButton")
        TabButton.Name = name
        TabButton.Size = UDim2.new(1, -8, 0, 44)
        TabButton.BackgroundColor3 = Color3.fromRGB(20, 22, 28)
        TabButton.BorderSizePixel = 0
        TabButton.Text = ""
        TabButton.AutoButtonColor = false
        TabButton.Parent = self.TabContainer
        
        local TabCorner = Instance.new("UICorner")
        TabCorner.CornerRadius = UDim.new(0, 10)
        TabCorner.Parent = TabButton
        
        local TabStroke = AddStroke(TabButton, Color3.fromRGB(138, 123, 255), 1, 0.95)
        AddShadow(TabButton, 0.9, 15)
        
        local TabIcon = Instance.new("ImageLabel")
        TabIcon.Name = "Icon"
        TabIcon.Size = UDim2.new(0, 20, 0, 20)
        TabIcon.Position = UDim2.new(0, 16, 0.5, -10)
        TabIcon.BackgroundTransparency = 1
        TabIcon.Image = icon or "rbxassetid://7733992358"
        TabIcon.ImageColor3 = Color3.fromRGB(140, 140, 140)
        TabIcon.Parent = TabButton
        
        local TabLabel = Instance.new("TextLabel")
        TabLabel.Name = "Label"
        TabLabel.Size = UDim2.new(1, -50, 1, 0)
        TabLabel.Position = UDim2.new(0, 44, 0, 0)
        TabLabel.BackgroundTransparency = 1
        TabLabel.Text = name
        TabLabel.TextColor3 = Color3.fromRGB(140, 140, 140)
        TabLabel.TextSize = 15
        TabLabel.Font = Enum.Font.GothamMedium
        TabLabel.TextXAlignment = Enum.TextXAlignment.Left
        TabLabel.Parent = TabButton
        
        local TabContent = Instance.new("ScrollingFrame")
        TabContent.Name = name .. "Content"
        TabContent.Size = UDim2.new(1, 0, 1, 0)
        TabContent.BackgroundTransparency = 1
        TabContent.BorderSizePixel = 0
        TabContent.ScrollBarThickness = 4
        TabContent.ScrollBarImageColor3 = Color3.fromRGB(138, 123, 255)
        TabContent.ScrollBarImageTransparency = 0.5
        TabContent.CanvasSize = UDim2.new(0, 0, 0, 0)
        TabContent.Visible = false
        TabContent.Parent = self.ContentFrame
        
        local ContentLayout = Instance.new("UIListLayout")
        ContentLayout.SortOrder = Enum.SortOrder.LayoutOrder
        ContentLayout.Padding = UDim.new(0, 12)
        ContentLayout.Parent = TabContent
        
        ContentLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
            TabContent.CanvasSize = UDim2.new(0, 0, 0, ContentLayout.AbsoluteContentSize.Y + 12)
        end)
        
        TabButton.MouseButton1Click:Connect(function()
            for _, tab in pairs(self.Tabs) do
                CreateTween(tab.Button, {BackgroundColor3 = Color3.fromRGB(20, 22, 28)})
                CreateTween(tab.Icon, {ImageColor3 = Color3.fromRGB(140, 140, 140)})
                CreateTween(tab.Label, {TextColor3 = Color3.fromRGB(140, 140, 140)})
                CreateTween(tab.Stroke, {Transparency = 0.95})
                tab.Content.Visible = false
                if tab.Button:FindFirstChild("NeonGlow") then
                    tab.Button.NeonGlow:Destroy()
                end
            end
            
            CreateTween(TabButton, {BackgroundColor3 = Color3.fromRGB(138, 123, 255)})
            CreateTween(TabIcon, {ImageColor3 = Color3.fromRGB(255, 255, 255)})
            CreateTween(TabLabel, {TextColor3 = Color3.fromRGB(255, 255, 255)})
            CreateTween(TabStroke, {Transparency = 0.3})
            AddNeonGlow(TabButton, Color3.fromRGB(138, 123, 255), 0.5, 25)
            TabContent.Visible = true
            self.CurrentTab = name
        end)
        
        TabButton.MouseEnter:Connect(function()
            if self.CurrentTab ~= name then
                CreateTween(TabButton, {BackgroundColor3 = Color3.fromRGB(25, 27, 33)})
                CreateTween(TabStroke, {Transparency = 0.7})
            end
        end)
        
        TabButton.MouseLeave:Connect(function()
            if self.CurrentTab ~= name then
                CreateTween(TabButton, {BackgroundColor3 = Color3.fromRGB(20, 22, 28)})
                CreateTween(TabStroke, {Transparency = 0.95})
            end
        end)
        
        local Tab = {
            Button = TabButton,
            Icon = TabIcon,
            Label = TabLabel,
            Content = TabContent,
            Stroke = TabStroke,
            Name = name
        }
        
        self.Tabs[name] = Tab
        
        if not self.CurrentTab then
            CreateTween(TabButton, {BackgroundColor3 = Color3.fromRGB(138, 123, 255)})
            CreateTween(TabIcon, {ImageColor3 = Color3.fromRGB(255, 255, 255)})
            CreateTween(TabLabel, {TextColor3 = Color3.fromRGB(255, 255, 255)})
            CreateTween(TabStroke, {Transparency = 0.3})
            AddNeonGlow(TabButton, Color3.fromRGB(138, 123, 255), 0.5, 25)
            TabContent.Visible = true
            self.CurrentTab = name
        end
        
        -- Tab Functions
        function Tab:CreateSection(title)
            local Section = Instance.new("Frame")
            Section.Name = title
            Section.Size = UDim2.new(1, -12, 0, 45)
            Section.BackgroundTransparency = 1
            Section.Parent = TabContent
            
            local SectionTitle = Instance.new("TextLabel")
            SectionTitle.Name = "Title"
            SectionTitle.Size = UDim2.new(1, 0, 1, 0)
            SectionTitle.BackgroundTransparency = 1
            SectionTitle.Text = title
            SectionTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
            SectionTitle.TextSize = 18
            SectionTitle.Font = Enum.Font.GothamBold
            SectionTitle.TextXAlignment = Enum.TextXAlignment.Left
            SectionTitle.Parent = Section
            
            AddGradient(SectionTitle, ColorSequence.new{
                ColorSequenceKeypoint.new(0, Color3.fromRGB(138, 123, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
            }, 0)
            
            local Divider = Instance.new("Frame")
            Divider.Name = "Divider"
            Divider.Size = UDim2.new(1, 0, 0, 2)
            Divider.Position = UDim2.new(0, 0, 1, -5)
            Divider.BackgroundColor3 = Color3.fromRGB(138, 123, 255)
            Divider.BorderSizePixel = 0
            Divider.Parent = Section
            
            local DividerCorner = Instance.new("UICorner")
            DividerCorner.CornerRadius = UDim.new(1, 0)
            DividerCorner.Parent = Divider
            
            AddNeonGlow(Divider, Color3.fromRGB(138, 123, 255), 0.4, 15)
            
            return Section
        end
        
        function Tab:CreateToggle(name, default, callback)
            local ToggleFrame = Instance.new("Frame")
            ToggleFrame.Name = name
            ToggleFrame.Size = UDim2.new(1, -12, 0, 50)
            ToggleFrame.BackgroundColor3 = Color3.fromRGB(18, 20, 26)
            ToggleFrame.BorderSizePixel = 0
            ToggleFrame.Parent = TabContent
            
            local ToggleCorner = Instance.new("UICorner")
            ToggleCorner.CornerRadius = UDim.new(0, 10)
            ToggleCorner.Parent = ToggleFrame
            
            AddStroke(ToggleFrame, Color3.fromRGB(138, 123, 255), 1, 0.9)
            AddShadow(ToggleFrame, 0.85, 20)
            
            local ToggleLabel = Instance.new("TextLabel")
            ToggleLabel.Name = "Label"
            ToggleLabel.Size = UDim2.new(1, -70, 1, 0)
            ToggleLabel.Position = UDim2.new(0, 18, 0, 0)
            ToggleLabel.BackgroundTransparency = 1
            ToggleLabel.Text = name
            ToggleLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
            ToggleLabel.TextSize = 15
            ToggleLabel.Font = Enum.Font.GothamMedium
            ToggleLabel.TextXAlignment = Enum.TextXAlignment.Left
            ToggleLabel.Parent = ToggleFrame
            
            local ToggleButton = Instance.new("TextButton")
            ToggleButton.Name = "Button"
            ToggleButton.Size = UDim2.new(0, 50, 0, 26)
            ToggleButton.Position = UDim2.new(1, -60, 0.5, -13)
            ToggleButton.BackgroundColor3 = default and Color3.fromRGB(138, 123, 255) or Color3.fromRGB(35, 37, 43)
            ToggleButton.Text = ""
            ToggleButton.AutoButtonColor = false
            ToggleButton.Parent = ToggleFrame
            
            local ToggleButtonCorner = Instance.new("UICorner")
            ToggleButtonCorner.CornerRadius = UDim.new(1, 0)
            ToggleButtonCorner.Parent = ToggleButton
            
            local ToggleStroke = AddStroke(ToggleButton, Color3.fromRGB(138, 123, 255), 1, default and 0.5 or 0.9)
            
            if default then
                AddNeonGlow(ToggleButton, Color3.fromRGB(138, 123, 255), 0.4, 20)
            end
            
            local ToggleCircle = Instance.new("Frame")
            ToggleCircle.Name = "Circle"
            ToggleCircle.Size = UDim2.new(0, 20, 0, 20)
            ToggleCircle.Position = default and UDim2.new(1, -23, 0.5, -10) or UDim2.new(0, 3, 0.5, -10)
            ToggleCircle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            ToggleCircle.BorderSizePixel = 0
            ToggleCircle.Parent = ToggleButton
            
            local CircleCorner = Instance.new("UICorner")
            CircleCorner.CornerRadius = UDim.new(1, 0)
            CircleCorner.Parent = ToggleCircle
            
            AddShadow(ToggleCircle, 0.6, 15)
            
            local toggled = default or false
            
            ToggleButton.MouseButton1Click:Connect(function()
                toggled = not toggled
                
                CreateTween(ToggleButton, {
                    BackgroundColor3 = toggled and Color3.fromRGB(138, 123, 255) or Color3.fromRGB(35, 37, 43)
                })
                CreateTween(ToggleStroke, {Transparency = toggled and 0.5 or 0.9})
                CreateTween(ToggleCircle, {
                    Position = toggled and UDim2.new(1, -23, 0.5, -10) or UDim2.new(0, 3, 0.5, -10)
                })
                
                if toggled then
                    AddNeonGlow(ToggleButton, Color3.fromRGB(138, 123, 255), 0.4, 20)
                else
                    if ToggleButton:FindFirstChild("NeonGlow") then
                        ToggleButton.NeonGlow:Destroy()
                    end
                end
                
                if callback then
                    callback(toggled)
                end
            end)
            
            ToggleFrame.MouseEnter:Connect(function()
                CreateTween(ToggleFrame:FindFirstChildOfClass("UIStroke"), {Transparency = 0.6})
            end)
            
            ToggleFrame.MouseLeave:Connect(function()
                CreateTween(ToggleFrame:FindFirstChildOfClass("UIStroke"), {Transparency = 0.9})
            end)
            
            return ToggleFrame
        end

        
        function Tab:CreateSlider(name, min, max, default, callback)
            local SliderFrame = Instance.new("Frame")
            SliderFrame.Name = name
            SliderFrame.Size = UDim2.new(1, -12, 0, 70)
            SliderFrame.BackgroundColor3 = Color3.fromRGB(18, 20, 26)
            SliderFrame.BorderSizePixel = 0
            SliderFrame.Parent = TabContent
            
            local SliderCorner = Instance.new("UICorner")
            SliderCorner.CornerRadius = UDim.new(0, 10)
            SliderCorner.Parent = SliderFrame
            
            AddStroke(SliderFrame, Color3.fromRGB(138, 123, 255), 1, 0.9)
            AddShadow(SliderFrame, 0.85, 20)
            
            local SliderLabel = Instance.new("TextLabel")
            SliderLabel.Name = "Label"
            SliderLabel.Size = UDim2.new(1, -80, 0, 25)
            SliderLabel.Position = UDim2.new(0, 18, 0, 12)
            SliderLabel.BackgroundTransparency = 1
            SliderLabel.Text = name
            SliderLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
            SliderLabel.TextSize = 15
            SliderLabel.Font = Enum.Font.GothamMedium
            SliderLabel.TextXAlignment = Enum.TextXAlignment.Left
            SliderLabel.Parent = SliderFrame
            
            local SliderValue = Instance.new("TextLabel")
            SliderValue.Name = "Value"
            SliderValue.Size = UDim2.new(0, 60, 0, 25)
            SliderValue.Position = UDim2.new(1, -70, 0, 12)
            SliderValue.BackgroundTransparency = 1
            SliderValue.Text = tostring(default or min)
            SliderValue.TextColor3 = Color3.fromRGB(138, 123, 255)
            SliderValue.TextSize = 15
            SliderValue.Font = Enum.Font.GothamBold
            SliderValue.TextXAlignment = Enum.TextXAlignment.Right
            SliderValue.Parent = SliderFrame
            
            local SliderBar = Instance.new("Frame")
            SliderBar.Name = "Bar"
            SliderBar.Size = UDim2.new(1, -36, 0, 5)
            SliderBar.Position = UDim2.new(0, 18, 1, -20)
            SliderBar.BackgroundColor3 = Color3.fromRGB(30, 32, 38)
            SliderBar.BorderSizePixel = 0
            SliderBar.Parent = SliderFrame
            
            local BarCorner = Instance.new("UICorner")
            BarCorner.CornerRadius = UDim.new(1, 0)
            BarCorner.Parent = SliderBar
            
            AddStroke(SliderBar, Color3.fromRGB(138, 123, 255), 1, 0.95)
            
            local SliderFill = Instance.new("Frame")
            SliderFill.Name = "Fill"
            SliderFill.Size = UDim2.new((default - min) / (max - min), 0, 1, 0)
            SliderFill.BackgroundColor3 = Color3.fromRGB(138, 123, 255)
            SliderFill.BorderSizePixel = 0
            SliderFill.Parent = SliderBar
            
            local FillCorner = Instance.new("UICorner")
            FillCorner.CornerRadius = UDim.new(1, 0)
            FillCorner.Parent = SliderFill
            
            AddNeonGlow(SliderFill, Color3.fromRGB(138, 123, 255), 0.3, 15)
            
            local SliderButton = Instance.new("TextButton")
            SliderButton.Name = "Button"
            SliderButton.Size = UDim2.new(1, 0, 1, 0)
            SliderButton.BackgroundTransparency = 1
            SliderButton.Text = ""
            SliderButton.Parent = SliderBar
            
            local dragging = false
            
            SliderButton.MouseButton1Down:Connect(function()
                dragging = true
            end)
            
            UserInputService.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    dragging = false
                end
            end)
            
            local function updateSlider(input)
                local mouse = UserInputService:GetMouseLocation()
                local barPos = SliderBar.AbsolutePosition.X
                local barSize = SliderBar.AbsoluteSize.X
                local value = math.clamp((mouse.X - barPos) / barSize, 0, 1)
                local finalValue = math.floor(min + (max - min) * value)
                
                SliderValue.Text = tostring(finalValue)
                SliderFill.Size = UDim2.new(value, 0, 1, 0)
                
                if callback then
                    callback(finalValue)
                end
            end
            
            SliderButton.MouseButton1Click:Connect(updateSlider)
            
            RunService.RenderStepped:Connect(function()
                if dragging then
                    updateSlider()
                end
            end)
            
            SliderFrame.MouseEnter:Connect(function()
                CreateTween(SliderFrame:FindFirstChildOfClass("UIStroke"), {Transparency = 0.6})
            end)
            
            SliderFrame.MouseLeave:Connect(function()
                CreateTween(SliderFrame:FindFirstChildOfClass("UIStroke"), {Transparency = 0.9})
            end)
            
            return SliderFrame
        end
        
        function Tab:CreateDropdown(name, options, default, callback)
            local DropdownFrame = Instance.new("Frame")
            DropdownFrame.Name = name
            DropdownFrame.Size = UDim2.new(1, -12, 0, 50)
            DropdownFrame.BackgroundColor3 = Color3.fromRGB(18, 20, 26)
            DropdownFrame.BorderSizePixel = 0
            DropdownFrame.ClipsDescendants = true
            DropdownFrame.Parent = TabContent
            
            local DropdownCorner = Instance.new("UICorner")
            DropdownCorner.CornerRadius = UDim.new(0, 10)
            DropdownCorner.Parent = DropdownFrame
            
            AddStroke(DropdownFrame, Color3.fromRGB(138, 123, 255), 1, 0.9)
            AddShadow(DropdownFrame, 0.85, 20)
            
            local DropdownLabel = Instance.new("TextLabel")
            DropdownLabel.Name = "Label"
            DropdownLabel.Size = UDim2.new(1, -140, 0, 50)
            DropdownLabel.Position = UDim2.new(0, 18, 0, 0)
            DropdownLabel.BackgroundTransparency = 1
            DropdownLabel.Text = name
            DropdownLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
            DropdownLabel.TextSize = 15
            DropdownLabel.Font = Enum.Font.GothamMedium
            DropdownLabel.TextXAlignment = Enum.TextXAlignment.Left
            DropdownLabel.Parent = DropdownFrame
            
            local DropdownButton = Instance.new("TextButton")
            DropdownButton.Name = "Button"
            DropdownButton.Size = UDim2.new(0, 110, 0, 32)
            DropdownButton.Position = UDim2.new(1, -120, 0, 9)
            DropdownButton.BackgroundColor3 = Color3.fromRGB(30, 32, 38)
            DropdownButton.Text = default or options[1] or "Select"
            DropdownButton.TextColor3 = Color3.fromRGB(200, 200, 200)
            DropdownButton.TextSize = 14
            DropdownButton.Font = Enum.Font.Gotham
            DropdownButton.AutoButtonColor = false
            DropdownButton.Parent = DropdownFrame
            
            local ButtonCorner = Instance.new("UICorner")
            ButtonCorner.CornerRadius = UDim.new(0, 8)
            ButtonCorner.Parent = DropdownButton
            
            local ButtonStroke = AddStroke(DropdownButton, Color3.fromRGB(138, 123, 255), 1, 0.9)
            AddShadow(DropdownButton, 0.9, 15)
            
            local DropdownIcon = Instance.new("TextLabel")
            DropdownIcon.Name = "Icon"
            DropdownIcon.Size = UDim2.new(0, 20, 1, 0)
            DropdownIcon.Position = UDim2.new(1, -20, 0, 0)
            DropdownIcon.BackgroundTransparency = 1
            DropdownIcon.Text = "▼"
            DropdownIcon.TextColor3 = Color3.fromRGB(138, 123, 255)
            DropdownIcon.TextSize = 11
            DropdownIcon.Font = Enum.Font.Gotham
            DropdownIcon.Parent = DropdownButton
            
            local OptionsContainer = Instance.new("Frame")
            OptionsContainer.Name = "Options"
            OptionsContainer.Size = UDim2.new(1, -20, 0, 0)
            OptionsContainer.Position = UDim2.new(0, 10, 0, 55)
            OptionsContainer.BackgroundTransparency = 1
            OptionsContainer.Parent = DropdownFrame
            
            local OptionsLayout = Instance.new("UIListLayout")
            OptionsLayout.SortOrder = Enum.SortOrder.LayoutOrder
            OptionsLayout.Padding = UDim.new(0, 6)
            OptionsLayout.Parent = OptionsContainer
            
            local isOpen = false
            
            for _, option in ipairs(options) do
                local OptionButton = Instance.new("TextButton")
                OptionButton.Name = option
                OptionButton.Size = UDim2.new(1, 0, 0, 34)
                OptionButton.BackgroundColor3 = Color3.fromRGB(25, 27, 33)
                OptionButton.Text = option
                OptionButton.TextColor3 = Color3.fromRGB(200, 200, 200)
                OptionButton.TextSize = 14
                OptionButton.Font = Enum.Font.Gotham
                OptionButton.AutoButtonColor = false
                OptionButton.Parent = OptionsContainer
                
                local OptionCorner = Instance.new("UICorner")
                OptionCorner.CornerRadius = UDim.new(0, 8)
                OptionCorner.Parent = OptionButton
                
                local OptionStroke = AddStroke(OptionButton, Color3.fromRGB(138, 123, 255), 1, 0.95)
                
                OptionButton.MouseButton1Click:Connect(function()
                    DropdownButton.Text = option
                    isOpen = false
                    CreateTween(DropdownFrame, {Size = UDim2.new(1, -12, 0, 50)})
                    CreateTween(DropdownIcon, {Rotation = 0})
                    
                    if callback then
                        callback(option)
                    end
                end)
                
                OptionButton.MouseEnter:Connect(function()
                    CreateTween(OptionButton, {BackgroundColor3 = Color3.fromRGB(138, 123, 255)})
                    CreateTween(OptionStroke, {Transparency = 0.5})
                    CreateTween(OptionButton, {TextColor3 = Color3.fromRGB(255, 255, 255)})
                    AddNeonGlow(OptionButton, Color3.fromRGB(138, 123, 255), 0.5, 20)
                end)
                
                OptionButton.MouseLeave:Connect(function()
                    CreateTween(OptionButton, {BackgroundColor3 = Color3.fromRGB(25, 27, 33)})
                    CreateTween(OptionStroke, {Transparency = 0.95})
                    CreateTween(OptionButton, {TextColor3 = Color3.fromRGB(200, 200, 200)})
                    if OptionButton:FindFirstChild("NeonGlow") then
                        OptionButton.NeonGlow:Destroy()
                    end
                end)
            end
            
            DropdownButton.MouseButton1Click:Connect(function()
                isOpen = not isOpen
                
                if isOpen then
                    local contentSize = #options * 40
                    CreateTween(DropdownFrame, {Size = UDim2.new(1, -12, 0, 50 + contentSize + 15)})
                    CreateTween(DropdownIcon, {Rotation = 180})
                else
                    CreateTween(DropdownFrame, {Size = UDim2.new(1, -12, 0, 50)})
                    CreateTween(DropdownIcon, {Rotation = 0})
                end
            end)
            
            DropdownButton.MouseEnter:Connect(function()
                CreateTween(DropdownButton, {BackgroundColor3 = Color3.fromRGB(40, 42, 48)})
                CreateTween(ButtonStroke, {Transparency = 0.6})
            end)
            
            DropdownButton.MouseLeave:Connect(function()
                CreateTween(DropdownButton, {BackgroundColor3 = Color3.fromRGB(30, 32, 38)})
                CreateTween(ButtonStroke, {Transparency = 0.9})
            end)
            
            DropdownFrame.MouseEnter:Connect(function()
                CreateTween(DropdownFrame:FindFirstChildOfClass("UIStroke"), {Transparency = 0.6})
            end)
            
            DropdownFrame.MouseLeave:Connect(function()
                CreateTween(DropdownFrame:FindFirstChildOfClass("UIStroke"), {Transparency = 0.9})
            end)
            
            return DropdownFrame
        end

        
        function Tab:CreateButton(name, callback)
            local ButtonFrame = Instance.new("Frame")
            ButtonFrame.Name = name
            ButtonFrame.Size = UDim2.new(1, -12, 0, 50)
            ButtonFrame.BackgroundColor3 = Color3.fromRGB(138, 123, 255)
            ButtonFrame.BorderSizePixel = 0
            ButtonFrame.Parent = TabContent
            
            local ButtonCorner = Instance.new("UICorner")
            ButtonCorner.CornerRadius = UDim.new(0, 10)
            ButtonCorner.Parent = ButtonFrame
            
            AddStroke(ButtonFrame, Color3.fromRGB(158, 143, 255), 1, 0.5)
            AddShadow(ButtonFrame, 0.7, 25)
            AddNeonGlow(ButtonFrame, Color3.fromRGB(138, 123, 255), 0.3, 30)
            
            local Button = Instance.new("TextButton")
            Button.Name = "Button"
            Button.Size = UDim2.new(1, 0, 1, 0)
            Button.BackgroundTransparency = 1
            Button.Text = name
            Button.TextColor3 = Color3.fromRGB(255, 255, 255)
            Button.TextSize = 16
            Button.Font = Enum.Font.GothamBold
            Button.Parent = ButtonFrame
            
            Button.MouseButton1Click:Connect(function()
                CreateTween(ButtonFrame, {BackgroundColor3 = Color3.fromRGB(118, 103, 235)}, 0.1)
                CreateTween(ButtonFrame, {Size = UDim2.new(1, -16, 0, 48)}, 0.1)
                task.wait(0.1)
                CreateTween(ButtonFrame, {BackgroundColor3 = Color3.fromRGB(138, 123, 255)}, 0.1)
                CreateTween(ButtonFrame, {Size = UDim2.new(1, -12, 0, 50)}, 0.1)
                
                if callback then
                    callback()
                end
            end)
            
            Button.MouseEnter:Connect(function()
                CreateTween(ButtonFrame, {BackgroundColor3 = Color3.fromRGB(158, 143, 255)})
                CreateTween(ButtonFrame:FindFirstChildOfClass("UIStroke"), {Transparency = 0.3})
            end)
            
            Button.MouseLeave:Connect(function()
                CreateTween(ButtonFrame, {BackgroundColor3 = Color3.fromRGB(138, 123, 255)})
                CreateTween(ButtonFrame:FindFirstChildOfClass("UIStroke"), {Transparency = 0.5})
            end)
            
            return ButtonFrame
        end
        
        function Tab:CreateColorPicker(name, default, callback)
            local ColorFrame = Instance.new("Frame")
            ColorFrame.Name = name
            ColorFrame.Size = UDim2.new(1, -12, 0, 50)
            ColorFrame.BackgroundColor3 = Color3.fromRGB(18, 20, 26)
            ColorFrame.BorderSizePixel = 0
            ColorFrame.Parent = TabContent
            
            local ColorCorner = Instance.new("UICorner")
            ColorCorner.CornerRadius = UDim.new(0, 10)
            ColorCorner.Parent = ColorFrame
            
            AddStroke(ColorFrame, Color3.fromRGB(138, 123, 255), 1, 0.9)
            AddShadow(ColorFrame, 0.85, 20)
            
            local ColorLabel = Instance.new("TextLabel")
            ColorLabel.Name = "Label"
            ColorLabel.Size = UDim2.new(1, -70, 1, 0)
            ColorLabel.Position = UDim2.new(0, 18, 0, 0)
            ColorLabel.BackgroundTransparency = 1
            ColorLabel.Text = name
            ColorLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
            ColorLabel.TextSize = 15
            ColorLabel.Font = Enum.Font.GothamMedium
            ColorLabel.TextXAlignment = Enum.TextXAlignment.Left
            ColorLabel.Parent = ColorFrame
            
            local ColorDisplay = Instance.new("Frame")
            ColorDisplay.Name = "Display"
            ColorDisplay.Size = UDim2.new(0, 34, 0, 34)
            ColorDisplay.Position = UDim2.new(1, -44, 0.5, -17)
            ColorDisplay.BackgroundColor3 = default or Color3.fromRGB(255, 255, 255)
            ColorDisplay.BorderSizePixel = 0
            ColorDisplay.Parent = ColorFrame
            
            local DisplayCorner = Instance.new("UICorner")
            DisplayCorner.CornerRadius = UDim.new(0, 8)
            DisplayCorner.Parent = ColorDisplay
            
            AddStroke(ColorDisplay, default or Color3.fromRGB(255, 255, 255), 1.5, 0.5)
            AddNeonGlow(ColorDisplay, default or Color3.fromRGB(255, 255, 255), 0.4, 20)
            AddShadow(ColorDisplay, 0.7, 18)
            
            local ColorButton = Instance.new("TextButton")
            ColorButton.Size = UDim2.new(1, 0, 1, 0)
            ColorButton.BackgroundTransparency = 1
            ColorButton.Text = ""
            ColorButton.Parent = ColorDisplay
            
            ColorButton.MouseButton1Click:Connect(function()
                if callback then
                    callback(ColorDisplay.BackgroundColor3)
                end
            end)
            
            ColorButton.MouseEnter:Connect(function()
                CreateTween(ColorDisplay, {Size = UDim2.new(0, 38, 0, 38)})
                CreateTween(ColorDisplay, {Position = UDim2.new(1, -46, 0.5, -19)})
            end)
            
            ColorButton.MouseLeave:Connect(function()
                CreateTween(ColorDisplay, {Size = UDim2.new(0, 34, 0, 34)})
                CreateTween(ColorDisplay, {Position = UDim2.new(1, -44, 0.5, -17)})
            end)
            
            ColorFrame.MouseEnter:Connect(function()
                CreateTween(ColorFrame:FindFirstChildOfClass("UIStroke"), {Transparency = 0.6})
            end)
            
            ColorFrame.MouseLeave:Connect(function()
                CreateTween(ColorFrame:FindFirstChildOfClass("UIStroke"), {Transparency = 0.9})
            end)
            
            return ColorFrame
        end
        
        function Tab:CreateTextBox(name, placeholder, callback)
            local TextBoxFrame = Instance.new("Frame")
            TextBoxFrame.Name = name
            TextBoxFrame.Size = UDim2.new(1, -12, 0, 50)
            TextBoxFrame.BackgroundColor3 = Color3.fromRGB(18, 20, 26)
            TextBoxFrame.BorderSizePixel = 0
            TextBoxFrame.Parent = TabContent
            
            local TextBoxCorner = Instance.new("UICorner")
            TextBoxCorner.CornerRadius = UDim.new(0, 10)
            TextBoxCorner.Parent = TextBoxFrame
            
            AddStroke(TextBoxFrame, Color3.fromRGB(138, 123, 255), 1, 0.9)
            AddShadow(TextBoxFrame, 0.85, 20)
            
            local TextBoxLabel = Instance.new("TextLabel")
            TextBoxLabel.Name = "Label"
            TextBoxLabel.Size = UDim2.new(0, 150, 1, 0)
            TextBoxLabel.Position = UDim2.new(0, 18, 0, 0)
            TextBoxLabel.BackgroundTransparency = 1
            TextBoxLabel.Text = name
            TextBoxLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
            TextBoxLabel.TextSize = 15
            TextBoxLabel.Font = Enum.Font.GothamMedium
            TextBoxLabel.TextXAlignment = Enum.TextXAlignment.Left
            TextBoxLabel.Parent = TextBoxFrame
            
            local TextBoxInput = Instance.new("TextBox")
            TextBoxInput.Name = "Input"
            TextBoxInput.Size = UDim2.new(1, -190, 0, 32)
            TextBoxInput.Position = UDim2.new(0, 170, 0.5, -16)
            TextBoxInput.BackgroundColor3 = Color3.fromRGB(25, 27, 33)
            TextBoxInput.Text = ""
            TextBoxInput.PlaceholderText = placeholder or "Enter text..."
            TextBoxInput.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
            TextBoxInput.TextColor3 = Color3.fromRGB(220, 220, 220)
            TextBoxInput.TextSize = 14
            TextBoxInput.Font = Enum.Font.Gotham
            TextBoxInput.ClearTextOnFocus = false
            TextBoxInput.Parent = TextBoxFrame
            
            local InputCorner = Instance.new("UICorner")
            InputCorner.CornerRadius = UDim.new(0, 8)
            InputCorner.Parent = TextBoxInput
            
            local InputStroke = AddStroke(TextBoxInput, Color3.fromRGB(138, 123, 255), 1, 0.9)
            
            TextBoxInput.Focused:Connect(function()
                CreateTween(InputStroke, {Transparency = 0.4})
                CreateTween(TextBoxInput, {BackgroundColor3 = Color3.fromRGB(30, 32, 38)})
                AddNeonGlow(TextBoxInput, Color3.fromRGB(138, 123, 255), 0.5, 20)
            end)
            
            TextBoxInput.FocusLost:Connect(function()
                CreateTween(InputStroke, {Transparency = 0.9})
                CreateTween(TextBoxInput, {BackgroundColor3 = Color3.fromRGB(25, 27, 33)})
                if TextBoxInput:FindFirstChild("NeonGlow") then
                    TextBoxInput.NeonGlow:Destroy()
                end
                
                if callback then
                    callback(TextBoxInput.Text)
                end
            end)
            
            TextBoxFrame.MouseEnter:Connect(function()
                CreateTween(TextBoxFrame:FindFirstChildOfClass("UIStroke"), {Transparency = 0.6})
            end)
            
            TextBoxFrame.MouseLeave:Connect(function()
                CreateTween(TextBoxFrame:FindFirstChildOfClass("UIStroke"), {Transparency = 0.9})
            end)
            
            return TextBoxFrame
        end
        
        return Tab
    end
    
    return Window
end

return ModernUI
